import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.ArrayList;

public class ListadeTarefas extends JFrame {

    private ArrayList<String> tarefas = new ArrayList<>();

    private JButton adicionarButton = new JButton("Adicionar Tarefa");
    private JButton removerButton = new JButton("Remover Tarefa");
    private JButton listarButton = new JButton("Listar Tarefas");
    private JButton sairButton = new JButton("Sair");

    public ListadeTarefas() {
        initUI();
    }

    private void initUI() {
        setTitle("Lista de Tarefas");
        setSize(300, 200);
        setDefaultCloseOperation(EXIT_ON_CLOSE);

        JPanel panel = new JPanel();
        panel.setLayout(new FlowLayout(FlowLayout.CENTER, 40, 20));
        panel.setBackground(new Color(45, 30, 50));

        panel.add(adicionarButton);
        panel.add(removerButton);
        panel.add(listarButton);
        panel.add(sairButton);

        add(panel);

        adicionarButton.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                adicionarTarefa();
            }
        });

        removerButton.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                removerTarefa();
            }
        });

        listarButton.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                listarTarefas();
            }
        });

        sairButton.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                System.exit(0);
            }
        });

        setLocationRelativeTo(null);
        setVisible(true);
    }

    private void adicionarTarefa() {
        String tarefa = JOptionPane.showInputDialog("Por favor, adicione uma tarefa:");
        if (tarefa != null && !tarefa.isEmpty()) {
            tarefas.add(tarefa);
            JOptionPane.showMessageDialog(null, "Tarefa adicionada com sucesso");
        }
    }

    private void removerTarefa() {
        if (tarefas.isEmpty()) {
            JOptionPane.showMessageDialog(null, "Não há tarefas para remover.");
            return;
        }

        int index = Integer.parseInt(JOptionPane.showInputDialog("Informe o índice da tarefa a ser removida:"));
        if (index >= 0 && index < tarefas.size()) {
            tarefas.remove(index);
            JOptionPane.showMessageDialog(null, "Tarefa removida com sucesso");
        } else {
            JOptionPane.showMessageDialog(null, "Índice inválido");
        }
    }

    private void listarTarefas() {
        if (tarefas.isEmpty()) {
            JOptionPane.showMessageDialog(null, "Não há tarefas para listar.");
            return;
        }

        StringBuilder lista = new StringBuilder("Lista de Tarefas:\n");
        for (int i = 0; i < tarefas.size(); i++) {
            lista.append((i + 1)).append(". ").append(tarefas.get(i)).append("\n");
        }
        JOptionPane.showMessageDialog(null, lista.toString());
    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(() -> {
            new ListadeTarefas();
        });
    }
}
